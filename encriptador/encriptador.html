<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Encriptador</title>
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Arvo:ital@1&display=swap" rel="stylesheet">
    <script>
      let ultimoBotonPresionado = null;

      function encriptar() {
        ultimoBotonPresionado = "encriptar";
        let texto = document.querySelector(".cuadro-texto").value;
        let resultado = "";
        for (let i = 0; i < texto.length; i++) {
          let letra = texto[i];
          switch (letra) {
            case "e":
              resultado += "enter";
              break;
            case "i":
              resultado += "imes";
              break;
            case "a":
              resultado += "ai";
              break;
            case "o":
              resultado += "ober";
              break;
            case "u":
              resultado += "ufat";
              break;
            default:
              resultado += letra;
          }
        }
        if (ultimoBotonPresionado === "encriptar") {
          document.querySelector(".area-resultado").innerHTML = resultado;
        }
      }

      function desencriptar() {
        ultimoBotonPresionado = "desencriptar";
        let texto = document.querySelector(".cuadro-texto").value;
        let resultado = "";
        let i = 0;
        while (i < texto.length) {
          let letra = texto[i];
          if (letra === "e" && texto.slice(i, i + 5) === "enter") {
            resultado += "e";
            i += 5;
          } else if (letra === "i" && texto.slice(i, i + 4) === "imes") {
            resultado += "i";
            i += 4;
          } else if (letra === "a" && texto.slice(i, i + 2) === "ai") {
            resultado += "a";
            i += 2;
          } else if (letra === "o" && texto.slice(i, i + 4) === "ober") {
            resultado += "o";
            i += 4;
          } else if (letra === "u" && texto.slice(i, i + 4) === "ufat") {
            resultado += "u";
            i += 4;
          } else {
            resultado += letra;
            i++;
          }
        }
        if (ultimoBotonPresionado === "desencriptar") {
          document.querySelector(".area-resultado").innerHTML = resultado;
        }
      }

      function copiar() {
        let resultado = document.querySelector(".area-resultado");
        let range = document.createRange();
        range.selectNode(resultado);
        let selection = window.getSelection();
        selection.removeAllRanges();
        selection.addRange(range);
        document.execCommand('copy');
        selection.removeAllRanges();
      }

      function limpiar() {
        document.querySelector(".cuadro-texto").value = "";
        document.querySelector(".area-resultado").innerHTML = "Ingresa el texto que desees encriptar o desencriptar.";
    
        }
    </script>
  </head>
  <body>
    <header>
        <div class="caja">
                <h1><img class="logo-alura-superior" src="Imagenes/Vector.png" alt="Logo de Alura"></h1>
                <h1 class="principal">Encriptador Alura</h1>
        </div>
    </header>
    <main>
        <div class="circuito-textos">
            <button class="boton-copiar" type="button" onclick="copiar()">Copiar resultado</button>
            <label class="texto">Texto:</label><textarea class="cuadro-texto"></textarea>
            <span class="area-resultado">Texto encriptado/desencriptado</span>
            <label class="resultado">Resultado:</label>
            

            <img class="imagen-candado" src="Imagenes/data.png" alt="imagen candado encriptado">
        </div>
        <div>
                <button class="boton-encriptar" type="button" onclick="encriptar()">Encriptar</button>
                <button class="boton-desencriptar" type="button" onclick="desencriptar()">Desencriptar</button>
                <button class="boton-limpiar" type="button" onclick="limpiar()">Limpiar</button>
        </div>

     </main>

        <footer>
        <p class="creador">&copy Mauricio Mu√±oz</p>

        </footer> 
  </body>
</html>


